created: 20250513124136264
modified: 20250513124410594
tags: QSPI
title: 内存映射模式

!! 总结：

在以下情况下使用内存映射模式：

（1）用于阅读操作。

（2）像使用内部Flash一样使用外部QSPI Flash， 任何AHB总线主控都可以自主读取数据。

（2）用于从外部QSPI Flash执行代码。

QSPI接口能够管理多达256 MB的内存，''在内存映射模式下地址范围是0x9000 0000到0x9FFF FFFF。''


!! 详细

读取操作：

在内存映射模式下，外部Quad-SPI Flash存储器可以直接映射到STM32H7的内存地址空间中，处理器可以通过访问特定的内存地址来读取存储器中的数据，就像访问内部RAM一样。
扩展内部存储器：

外部Quad-SPI Flash存储器被当作内部存储器的一部分使用，其他主机（例如处理器内核或DMA控制器）可以直接读取这些地址上的数据，无需通过QSPI接口的特殊函数调用。
执行代码（XIP，Execute-In-Place）：

由于Quad-SPI Flash存储器被映射到了内存地址空间，因此可以直接从中执行代码，减少了将代码从Flash复制到RAM的时间开销，提高了系统的启动速度和运行效率。
