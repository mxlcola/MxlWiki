created: 20250818144513251
modified: 20250820054556026
tags: 线程栈 ?
title: 为什么每个线程需要独立的栈？

在多线程系统（RT-Thread）中：

* 线程 A 执行时，SP 指向 A 的栈
* 切换到线程 B 时，SP 改成指向 B 的栈
* 因为函数调用、局部变量的内存布局会变化，所以如果没有独立栈，线程会互相覆盖数据。


<<<
栈的独立性保证：
切换回某线程时，它能接着执行，不会破坏局部变量和调用关系。
<<<
