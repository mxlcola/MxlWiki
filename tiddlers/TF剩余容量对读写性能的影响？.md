

---

## **1. 为什么剩余容量会影响读写性能**

当 TF 卡的**剩余可用空间变少**（比如低于 10% 甚至 5%）时，写入速度下降往往很明显，这是因为：

1. **可用空块变少**

   * TF 卡（NAND 闪存）写数据是“先擦后写”，擦除只能按“块”操作。
   * 当剩余空块少，新数据必须覆盖旧数据所在的块 → 累加了\*\*数据搬移（Copy）+ 垃圾回收（Garbage Collection, GC）\*\*的时间开销。

2. **SLC 缓存区变小或耗尽**

   * 许多 TF 卡用 TLC/QLC 闪存，通过一部分空间模拟 SLC 缓存加速写入。
   * 当卡快满时，可用来做缓存的区减少，一旦缓存写满就直接进入慢速写 → 速度可能掉到个位数 MB/s。

3. **磨损均衡（Wear Leveling）增多**

   * 控制器为了让所有块均匀使用，会频繁搬移数据，这一步在剩余容量少时更密集，也会拖慢写入。

4. **后台整理延迟**

   * 录像、相机高速连拍等场景中，满载状态下后台整理会和前台写入抢资源 → 导致掉帧、写入中断。

---

## **2. 性能下降有多明显**

（假设一张正常状态下写入 80 MB/s 的 U3 / V30 TF 卡）

* **剩余容量 >20%** → 几乎满速
* **剩余容量 10% 左右** → 写入下降 10%\~30%
* **剩余容量 <5%** → 可能下降到原来的 20%\~50%，甚至个位数 MB/s（尤其是 TLC/QLC 芯片）

---

## **3. 建议预留容量**

参考 SSD 和 NAND 设备的“过度预留空间（OP）”理论：

| 用途              | 建议预留比例 | 原因             |
| --------------- | ------ | -------------- |
| 普通文件存储（音乐、文档）   | ≥5%    | 不敏感，少量 GC      |
| 运动相机/行车记录仪/监控录像 | ≥10%   | 长时间持续写，避免掉速和掉帧 |
| 高速摄影/4K 视频      | ≥15%   | 留足缓存和 GC 空间    |
| 工控/系统盘（大量随机写）   | ≥20%   | 保证低延迟和寿命       |

> 经验值：**如果追求稳定，TF 卡长期保持 10%\~15% 空闲空间 是比较安全的平衡点**。

---

## **4. 总结**

* 剩余容量减少 → 写入性能显著下降，读取影响较小。
* 根本原因：闪存“垃圾回收 + 缓存空间减少 + 磨损均衡”带来的额外开销。
* **建议长期预留 10\~15% 空间**，关键任务或对速度敏感的应用可以留得更多。

