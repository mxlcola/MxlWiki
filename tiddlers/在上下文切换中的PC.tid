created: 20250818140757029
modified: 20250818140944984
tags: PC
title: 在上下文切换中的PC

在线程切换时，RT-Thread（或任何 RTOS）需要：

* 保存 PC 值（当前执行位置）到[[线程栈]]
* 切换下一个线程的栈指针（[[SP|SP堆栈指针]]）
* 恢复下一个线程保存的 PC
* CPU 从新的 PC 地址继续执行新的线程指令

这就是为什么 PC 是“程序流的灵魂”，它决定了 CPU 下一条指令来自哪里。