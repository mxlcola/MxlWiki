created: 20250818144117493
modified: 20250818144453061
tags: 线程栈 ?
title: 线程栈里能放什么？

一个线程运行时，栈会保存：

!! 函数调用信息

* 返回地址（PC 值）
* 上一帧栈指针（旧 SP）

!! 局部变量

* 在函数内定义的变量（非静态变量）

!! 寄存器的备份

* 在中断、任务切换时保存所有 CPU 寄存器

!! 参数传递备份

* 超过寄存器可传递的参数会放到栈上

!! 中断上下文

进入中断时硬件自动压入的寄存器（包括 [[PC]]、[[LR]] 等）