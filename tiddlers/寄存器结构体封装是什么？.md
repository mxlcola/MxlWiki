## 寄存器结构体封装是什么？

单片机外设（GPIO/RCC/USART…）内部有一堆寄存器，它们在内存里是一段**连续排布的地址**。  
我们用一个 `struct` 把这些寄存器按顺序“摆好”，再用**外设基地址**强转成这个结构体指针，于是就能写：
`GPIOB->ODR` 这种“像对象一样”的寄存器访问。

## 关键公式
**寄存器地址 = 外设基地址 Base + 偏移 offset**

## 你要记住的动作
1. 看手册拿到寄存器偏移表  
2. 用 struct 复刻布局（成员顺序=偏移顺序）  
3. Base 地址强转成 struct 指针  
4. 用 `->` 访问寄存器

## 检查自己是否真的懂（自问）
- 为什么结构体成员顺序必须和偏移一致？
- `GPIOB->ODR` 背后对应的真实地址是什么？

## 核心规则：偏移表怎么变成 struct？


手册里写：GPIO 外设寄存器偏移是：
CRL 0x00, CRH 0x04, IDR 0x08, ODR 0x0C...
这说明它们在内存里是按 4 字节一格排列的。

struct 的成员在内存中也是按顺序连续排布。
所以我们把寄存器按偏移顺序写成成员，就能“对齐”到真实地址。

## 示例（GPIO F1 常见）
- CRL  -> 0x00
- CRH  -> 0x04
- IDR  -> 0x08
- ODR  -> 0x0C
- BSRR -> 0x10
- BRR  -> 0x14
- LCKR -> 0x18

## 检查（自问）
- 如果我漏写一个成员，会发生什么？
- 如果我把 CRH 和 IDR 顺序写反，会发生什么？

