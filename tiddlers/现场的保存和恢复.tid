created: 20250625144703762
modified: 20251101025124428
tags: 线程的概念与保存 FreeRTOS
title: 现场的保存和恢复

!! 任务切换时要做的事情

[img width = 600 [https://mxloss112233.oss-cn-beijing.aliyuncs.com/img/20251030192122.png]]

{{RTOS-什么是现场？}}

!! 寄存器分为软件保存和硬件保存

''硬件自动压一部分，软件补压剩余，TCB 记 SP''

[img width = 600 [https://mxloss112233.oss-cn-beijing.aliyuncs.com/img/20251030194036.png]]

!! 保存在哪里？-栈

!! 怎么找到栈？

TCB结构体里面有记录
TCB 记 SP